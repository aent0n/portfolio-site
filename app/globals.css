@import "tailwindcss";
@import "highlight.js/styles/github-dark.css";
@plugin "@tailwindcss/typography";

@theme {
  --color-base: var(--color-base);
  --color-mantle: var(--color-mantle);
  --color-crust: var(--color-crust);
  --color-surface0: var(--color-surface0);
  --color-surface1: var(--color-surface1);
  --color-subtext0: var(--color-subtext0);
  --color-foreground: var(--color-foreground);
  --color-blue: var(--color-blue);
  --color-mauve: var(--color-mauve);
  --color-red: var(--color-red);
  --color-green: var(--color-green);
  --color-yellow: var(--color-yellow);
}

/* Custom Prose Styling */
@layer components {
  .prose {
    @apply text-subtext0 max-w-none;

    /* Headers */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      @apply text-foreground font-bold mt-8 mb-4 scroll-mt-24;
    }

    h1 {
      @apply text-4xl;
    }

    h2 {
      @apply text-3xl border-b border-surface0 pb-2;
    }

    h3 {
      @apply text-2xl;
    }

    /* Text Formatting */
    strong {
      @apply text-foreground font-bold;
    }

    em {
      @apply text-mauve italic;
    }

    a {
      @apply text-blue no-underline hover:underline;
    }

    /* Code */
    code {
      @apply bg-surface0 text-mauve px-1.5 py-0.5 rounded-md text-sm font-mono font-medium;
    }

    code::before,
    code::after {
      content: none !important;
    }

    pre code {
      @apply bg-transparent p-0 text-inherit;
    }

    /* Blockquotes */
    blockquote {
      @apply border-l-4 border-blue pl-4 italic text-subtext0 bg-surface0/20 py-2 pr-4 rounded-r-lg my-6;
    }

    /* Lists */
    ul {
      @apply list-disc list-outside ml-6 my-4;
    }

    ol {
      @apply list-decimal list-outside ml-6 my-4;
    }

    li {
      @apply my-1;
    }

    /* Tables */
    table {
      @apply w-full my-8 border-collapse;
    }

    th {
      @apply text-left p-2 border-b border-surface0 text-foreground font-bold;
    }

    td {
      @apply p-2 border-b border-surface0/50;
    }

    /* Images */
    img {
      @apply rounded-xl border border-surface0 my-8 mx-auto shadow-lg;
    }

    /* Horizontal Rule */
    hr {
      @apply border-surface0 my-8;
    }
  }
}

/* User Custom Palette (Teal/Cyan/Gold) */
:root {
  /* Base Background: Dark Teal */
  --color-base: #1a535c;
  --color-mantle: #14424a;
  /* 20% darker */
  --color-crust: #0f3137;
  /* 30% darker */

  --color-surface0: #256873;
  /* Lighter teal */
  --color-surface1: #307d8a;

  --color-subtext0: #b8e0e0;
  /* Light teal-ish gray for secondary text */

  --color-foreground: #f7fff7;
  /* Mint Cream */

  /* Accents */
  --color-blue: #4ecdc4;
  /* Strong Cyan (Primary Accent) */
  --color-mauve: #ffe66d;
  /* Royal Gold (Secondary Accent) */
  --color-red: #ff6b6b;
  /* Complementary Red */
  --color-green: #4ecdc4;
  /* Cyan */
  --color-yellow: #ffe66d;
  /* Royal Gold */
}

/* Light Theme Override (Clean Technical - Softened) */
[data-theme="light"] {
  --color-base: #eef5f5;
  /* Slightly darker/softer than Mint Cream to reduce glare */
  --color-mantle: #e0ebeb;
  --color-crust: #d1e0e0;
  --color-surface0: #ffffff;
  /* Keep surface white for cards to pop against the softer bg */
  --color-surface1: #e0f2f1;
  --color-subtext0: #546e7a;
  --color-foreground: #1a535c;
  /* Dark Teal Text */

  --color-blue: #2a8a94;
  /* Darker Cyan for better readability on light bg */
  --color-mauve: #d9b310;
  /* Darker Gold for better contrast */
  --color-red: #dc2626;
  --color-green: #059669;
  --color-yellow: #d97706;
}

body {
  color: var(--color-foreground);
  background-color: var(--color-base);
  transition: color 0.3s ease, background-color 0.3s ease;
  font-family: Arial, Helvetica, sans-serif;
  overflow-x: hidden;
  min-height: 100vh;
}

/* Dark Mode Background: Deep Teal Gradient */
:root:not([data-theme="light"]) body {
  background-image:
    linear-gradient(to bottom right, var(--color-base), var(--color-mantle));
  background-attachment: fixed;
}

/* Light Mode Background: Clean Mint */
[data-theme="light"] body {
  background-color: var(--color-base);
  background-image: none;
}

@utility text-balance {
  text-wrap: balance;
}